"use strict";var app=angular.module("app",["hc.marked"]);app.service("swgOutputSelection",["$rootScope",function(e){var t=NaN;this.set=function(n){var a=t!==n;return t=n,a&&e.$broadcast("swgOutputSelectionChanged",n),a},this.get=function(){return t}}]),app.run(["$rootScope","$log",function(e,t){e.$log=t}]),app.controller("SwaggerExplainedController",["$scope","$http","swgOutputSelection","$location",function(e,t,n,a){function s(e,t){if(e.items&&("parameter"===t&&"body"!==e["in"]||"header"===t?(e.items._explained={annotation:"@SWG\\Items",spec:"itemsObject"},s(e.items,"items")):(e.items._explained={annotation:"@SWG\\Items",spec:"schemaObject"},s(e.items,"items"))),e.schema&&(e.schema._explained={annotation:"@SWG\\Schema",spec:"schemaObject"},s(e.schema,"schema")),e.properties)for(var n in e.properties){var a=e.properties[n];a._explained={annotation:"@SWG\\Property",spec:"schemaObject"},s(a,"property")}if(e.allOf)for(var i in e.allOf){var p=e.allOf[i];p._explained={spec:"schemaObject"},s(p,"schema")}e.externalDocs&&(e.externalDocs._explained={annotation:"@SWG\\ExternalDocumentation",spec:"externalDocumentationObject"}),e.xml&&(e.xml._explained={annotation:"@SWG\\Xml",spec:"xmlObject"})}function i(t){return e.spec&&e.spec[t]?e.explained?e.explained.spec!==t?void n.set({spec:t}):void 0:void n.set({spec:t}):void 0}e.url=a.search().url||"https://cdn.rawgit.com/swagger-api/swagger-spec/master/examples/v2.0/json/petstore-simple.json";var p={get:"@SWG\\Get",post:"@SWG\\Post",put:"@SWG\\Put",patch:"@SWG\\Patch","delete":"@SWG\\Delete",head:"@SWG\\Head",options:"@SWG\\Options"};e.$watch("url",function(n){e.swagger="Loading...",t.get(n).success(function(t){if(t._explained={annotation:"@SWG\\Swagger",spec:"swaggerObject"},t.info&&(t.info._explained={annotation:"@SWG\\Info",spec:"infoObject"},t.info.contact&&(t.info.contact._explained={annotation:"@SWG\\Contact",spec:"contactObject"}),t.info.license&&(t.info.license._explained={annotation:"@SWG\\License",spec:"licenseObject"})),t.paths){for(var n in t.paths){var a=t.paths[n];a._explained={annotation:"@SWG\\Path",spec:"pathItemObject"};for(var i in a){var o=a[i];if(o._explained={spec:"operationObject",annotation:p[i]},o.parameters)for(var r in o.parameters){var c=o.parameters[r];c._explained={spec:"parameterObject",annotation:"@SWG\\Parameter"},s(c,"parameter")}if(o.responses){for(var u in o.responses){var l=o.responses[u];if(l._explained={spec:"responseObject",annotation:"@SWG\\Response"},s(l,"response"),l.headers){for(var d in l.headers){var g=l.headers[d];g._explained={spec:"headerObject",annotation:"@SWG\\Header"}}s(g,"header")}}o.responses._explained={spec:"responsesObject"}}}}t.paths._explained={spec:"pathsObject"}}if(t.definitions){for(var f in t.definitions){var v=t.definitions[f];v._explained={spec:"schemaObject",annotation:"@SWG\\Definition"},s(v,"definition")}t.definitions._explained={spec:"definitionsObject"}}if(t.securityDefinitions)for(var f in t.securityDefinitions){var h=t.securityDefinitions[f];h._explained={annotation:"@SWG\\SecurityScheme",spec:"securitySchemeObject"}}if(t.tags)for(var r in t.tags){var m=t.tags[r];m._explained={annotation:"@SWG\\Tag",spec:"tagObject"}}e.swagger=t})["catch"](function(t){e.swagger={error:"Failed to load",url:n,status:t.status}})}),t.get("swagger-spec.json").success(function(t){e.spec=t,i(a.path().substr(1))}),e.$on("swgOutputSelectionChanged",function(t,n){e.explained=n,a.path().substr(1)!==e.explained.spec&&a.path(e.explained.spec)}),e.updateSelection=function(e){n.set(e)},e.$on("$locationChangeSuccess",function(){i(a.path().substr(1))})}]),app.directive("swgOutput",["$compile","swgOutputSelection",function(e,t){function n(e){return e.property&&"object"==typeof e.property.value&&e.property.value._explained?e.property.value._explained:"object"==typeof e.item&&e.item._explained?e.item._explained:"object"==typeof e.value&&e.value._explained?e.value._explained:e.$parent?n(e.$parent):void 0}return{template:["<span ng-switch=\"type\" ng-class=\"['swg-output', 'swg-output--' + type]\">",'<span ng-switch-when="string">"<span class="swg-output__string">{{value}}</span>"</span>','<span ng-switch-when="number">{{value}}</span>','<span ng-switch-when="boolean">{{value}}</span>','<span ng-switch-when="undefined">undefined</span>','<span ng-switch-when="object">{','  <div class="swg-output__indent">','    <div ng-repeat="property in properties" ng-class="[hoverClass(property.value._explained)]">','      "<span class="swg-output__property">{{property.name}}</span>"<span class="swg-output__double-colon">:</span>','      <swg-output value="property.value" as-property="true"></swg-output><span ng-if="!$last">,</span>',"    </div>","  </div>","}</span>",'<span ng-switch-when="array">[','  <div class="swg-output__indent">','    <div ng-repeat="item in value track by $index" ng-class="[hoverClass(item._explained)]">','      <swg-output value="item"></swg-output><span ng-if="!$last">,</span>',"    </div>","  </div>","]</span>",'<span ng-switch-default>[swg-output error] Type "{{type}}" not implemented</span>',"</span>"].join(""),scope:{value:"=",asProperty:"="},compile:function(a){var s,i=a.contents().remove();return{post:function(a,p){s||(s=e(i)),s(a,function(e){p.append(e)}),a.$watch("value",function(e){if(a.type=angular.isArray(e)?"array":typeof e,a.properties=[],"object"===a.type)for(var t in e)"_explained"!==t&&a.properties.push({name:t,value:e[t]})}),p.bind("mousemove",function(e){var s=n($(e.target).scope());s&&t.set(s)&&a.$apply()}),a.hoverClass=function(e){return e?e===t.get()?"swg-output--active":"swg-output__hover":void 0}}}}}}]);
//# sourceMappingURL=app.min.js.map